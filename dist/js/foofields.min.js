/*
*  - FooFields
* @version 1.0.0
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/

!function(a,b){b.config={opt:{small:960,on:{},fields:{}},cls:{small:"foofields-small",hoverable:"foofields-hoverable",active:"foofields-active",first:"foofields-first",last:"foofields-last",container:{el:"foofields-container",content:{el:"foofields-content",field:"foofields-field"},tabs:{el:"foofields-tabs",exists:"foofields-has-tabs",tab:{el:"foofields-tab",link:"foofields-tab-link",icon:"foofields-tab-icon",text:"foofields-tab-text",menu:{el:"foofields-tab-menu",exists:"foofields-has-menu",visible:"foofields-show-menu",header:"foofields-tab-menu-header",item:{el:"foofields-tab-menu-item",link:"foofields-tab-menu-link",text:"foofields-tab-menu-text"}}}}},fields:{}},i18n:{fields:{}}},b.$=a}(jQuery,window.FooFields=window.FooFields||{}),function(a){if(!a)return void console.warn("jQuery must be included in the page prior to the FooFields.utils library.");var b={$:a,version:"0.1.9"};b.versionCompare=function(a,b){function c(a){for(var b=a.split("."),c=[],d=0,e=b.length;d<e;d++)c[d]=parseInt(b[d]),isNaN(c[d])&&(c[d]=0);return c}if(!/[\d.]/.test(a)||!/[\d.]/.test(b))return NaN;for(var d=c(a),e=c(b);d.length<e.length;)d.push(0);for(;e.length<d.length;)e.push(0);for(var f=0;f<d.length;++f){if(e.length===f)return 1;if(d[f]!==e[f])return d[f]>e[f]?1:-1}return d.length!==e.length?-1:0},!function(){try{return!!window.FooFields.utils}catch(a){return!1}}()?window.FooFields.utils=b:b.versionCompare(b.version,window.FooFields.utils.version)>0?(console.warn("An older version of FooFields.utils ("+window.FooFields.utils.version+") already exists in the page, version "+b.version+" will override it."),window.FooFields.utils=b):console.warn("A newer version of FooFields.utils ("+window.FooFields.utils.version+") already exists in the page, version "+b.version+" will not register itself.")}(jQuery),function(a,b){"0.1.9"===b.version&&(b.is={},b.is.array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.is.boolean=function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},b.is.element=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:!!a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},b.is.empty=function(a){if(b.is.undef(a)||null===a)return!0;if(b.is.number(a)&&0===a)return!0;if(b.is.boolean(a)&&!1===a)return!0;if(b.is.string(a)&&0===a.length)return!0;if(b.is.array(a)&&0===a.length)return!0;if(b.is.jq(a)&&0===a.length)return!0;if(b.is.hash(a)){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0}return!1},b.is.error=function(a){return"[object Error]"===Object.prototype.toString.call(a)},b.is.fn=function(a){return a===window.alert||"[object Function]"===Object.prototype.toString.call(a)},b.is.hash=function(a){return b.is.object(a)&&a.constructor===Object&&!a.nodeType&&!a.setInterval},b.is.jq=function(c){return!b.is.undef(a)&&c instanceof a},b.is.number=function(a){return"[object Number]"===Object.prototype.toString.call(a)&&!isNaN(a)},b.is.object=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&!b.is.undef(a)&&null!==a},b.is.promise=function(a){return b.is.object(a)&&b.is.fn(a.then)&&b.is.fn(a.promise)},b.is.size=function(a){return!!(b.is.string(a)&&!b.is.empty(a)||b.is.number(a))&&/^(auto|none|(?:[\d.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(a)},b.is.string=function(a){return"[object String]"===Object.prototype.toString.call(a)},b.is.undef=function(a){return void 0===a})}(FooFields.utils.$,FooFields.utils),function(a,b,c){if("0.1.9"===b.version){b.fn={};var d=Function.prototype.toString;b.fn.CONTAINS_SUPER=/xyz/.test(d.call(function(){xyz}))?/\b_super\b/:/.*/,b.fn.addOrOverride=function(a,e,f){if(c.object(a)&&c.string(e)&&!c.empty(e)&&c.fn(f)){var g=a[e],h=c.fn(g)&&b.fn.CONTAINS_SUPER.test(d.call(f));a[e]=h?function(a,b){return function(){var c=this._super;this._super=a;var d=b.apply(this,arguments);return this._super=c,d}}(g,f):f}},b.fn.apply=function(a,b){function d(){return a.apply(this,b)}return b=c.array(b)?b:[],d.prototype=a.prototype,new d},b.fn.arg2arr=function(a){return Array.prototype.slice.call(a)},b.fn.debounce=function(a,c){var d;return function(){var e=this,f=b.fn.arg2arr(arguments);clearTimeout(d),d=setTimeout(function(){a.apply(e,f)},c)}},b.fn.throttle=function(a,c){var d,e;return function(){var f=this,g=b.fn.arg2arr(arguments);d?(clearTimeout(e),e=setTimeout(function(){Date.now()-d>=c&&(a.apply(f,g),d=Date.now())},c-(Date.now()-d))):(a.apply(f,g),d=Date.now())}},b.fn.check=function(d,e,f,g){function h(a){return function(){return a.apply(d,arguments)}}return f=c.fn(f)?f:a.noop,d=c.object(d)?d:window,e=c.string(e)?b.fn.fetch(e,g):e,h(c.fn(e)?e:f)},b.fn.fetch=function(b,d){return!c.string(b)||c.empty(b)?null:(d=c.object(d)?d:window,a.each(b.split("."),function(a,b){if(!d[b])return!1;d=d[b]}),c.fn(d)?d:null)},b.fn.enqueue=function(d,e,f,g){function h(a,b){try{return n.push(a),b.apply(a,i)}catch(a){return j.reject(a,n),j}}var i=b.fn.arg2arr(arguments),j=a.Deferred(),k=a.Deferred(),l=k.promise(),m=[],n=[],o=!0;return d=i.shift(),e=i.shift(),a.each(d,function(a,d){c.fn(d[e])&&(l=l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}return o=!1,h(d,d[e])}))}),l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}o=!1,j.resolve(m)}),l.fail(function(){var a=b.fn.arg2arr(arguments);a.push(n),j.reject.apply(j,a)}),k.resolve(),j.promise()},b.fn.when=function(b){if(!c.array(b)||c.empty(b))return a.when();for(var d=a.Deferred(),e=[],f=b.length,g=0;g<b.length;g++)b[g].then(function(a){e.push(a)}).always(function(){--f||d.resolve(e)});return d.promise()},b.fn.rejectWith=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.reject.apply(e,f).promise()},b.fn.resolveWith=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.resolve.apply(e,f).promise()},b.fn.resolved=a.Deferred().resolve().promise(),b.fn.rejected=a.Deferred().reject().promise()}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(a,b){if("0.1.9"===a.version){a.url={};var c=document.createElement("a");a.url.parts=function(a){c.href=a;var b=c.port?c.port:-1!==["http:","https:"].indexOf(c.protocol)?"https:"===c.protocol?"443":"80":"",d=c.hostname+(b?":"+b:""),e=c.origin?c.origin:c.protocol+"//"+d,f="/"===c.pathname.slice(0,1)?c.pathname:"/"+c.pathname;return{hash:c.hash,host:d,hostname:c.hostname,href:c.href,origin:e,pathname:f,port:b,protocol:c.protocol,search:c.search}},a.url.full=function(a){return!b.string(a)||b.empty(a)?null:(c.href=a,c.href)},a.url.param=function(a,c,d){if(!b.string(a)||!b.string(c)||b.empty(c))return a;var e,f,g,h;return b.undef(d)?(e=new RegExp("[?|&]"+c+"=([^&;]+?)(&|#|;|$)"),f=e.exec(a)||["",""],g=f[1].replace(/\+/g,"%20"),b.string(g)&&!b.empty(g)?decodeURIComponent(g):null):(b.empty(d)?(e=new RegExp("^([^#]*?)(([^#]*)&)?"+c+"(=[^&#]*)?(&|#|$)"),g=a.replace(e,"$1$3$5").replace(/^([^#]*)((\?)&|\?(#|$))/,"$1$3$4")):(e=new RegExp("([?&])"+c+"[^&]*"),h=c+"="+encodeURIComponent(d),(g=a.replace(e,"$1"+h))!==a||e.test(g)||(g+=(-1!==g.indexOf("?")?"&":"?")+h)),g)}}}(FooFields.utils,FooFields.utils.is),function(a,b,c){"0.1.9"===a.version&&(a.str={},a.str.camel=function(a){return b.empty(a)?a:a.toUpperCase()===a?a.toLowerCase():a.replace(/^([A-Z])|[-\s_]+(\w)/g,function(a,c,d){return b.string(d)?d.toUpperCase():c.toLowerCase()})},a.str.kebab=function(a){return b.empty(a)?a:a.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map(function(a){return a.toLowerCase()}).join("-")},a.str.contains=function(a,c,d){return!(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c))&&(c.length<=a.length&&-1!==(d?a.toUpperCase().indexOf(c.toUpperCase()):a.indexOf(c)))},a.str.containsWord=function(a,c,d){if(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)||a.length<c.length)return!1;for(var e=a.split(/\W/),f=0,g=e.length;f<g;f++)if(d?e[f].toUpperCase()===c.toUpperCase():e[f]===c)return!0;return!1},a.str.endsWith=function(a,c){return!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)?a===c:a.slice(a.length-c.length)===c},a.str.escapeRegExp=function(a){return b.empty(a)?a:a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},a.str.fnv1a=function(a){if(!b.string(a)||b.empty(a))return null;var c,d,e=2166136261;for(c=0,d=a.length;c<d;c++)e^=a.charCodeAt(c),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0},a.str.from=function(c,d){return!b.string(c)||b.empty(c)||!b.string(d)||b.empty(d)?null:a.str.contains(c,d)?c.substring(c.indexOf(d)+d.length):null},a.str.join=function(d,e,f){if(!b.string(d)||!b.string(e))return null;var g=c.arg2arr(arguments);d=g.shift();var h,i,j=g.shift();for(h=0,i=g.length;h<i;h++)e=g[h],b.empty(e)||(a.str.endsWith(j,d)&&(j=j.slice(0,j.length-d.length)),a.str.startsWith(e,d)&&(e=e.slice(d.length)),j+=d+e);return j},a.str.startsWith=function(a,c){return!b.empty(a)&&!b.empty(c)&&a.slice(0,c.length)===c},a.str.until=function(c,d){return b.empty(c)||b.empty(d)?c:a.str.contains(c,d)?c.substring(0,c.indexOf(d)):c},a.str.format=function(a,d,e){var f=c.arg2arr(arguments);if(a=f.shift(),b.empty(a)||b.empty(f))return a;1===f.length&&(b.array(f[0])||b.object(f[0]))&&(f=f[0]);for(var g in f)a=a.replace(new RegExp("\\{"+g+"\\}","gi"),f[g]);return a})}(FooFields.utils,FooFields.utils.is,FooFields.utils.fn),function(a,b,c,d,e){if("0.1.9"===b.version){b.obj={};var f=function(){};b.obj.create=function(a){if(!c.object(a))throw TypeError("Argument must be an object");f.prototype=a;var b=new f;return f.prototype=null,b},b.obj.extend=function(e,f,g){e=c.object(e)?e:{};var h=d.arg2arr(arguments);return h.shift(),a.each(h,function(a,c){b.obj.merge(e,c)}),e},b.obj.merge=function(a,d){a=c.hash(a)?a:{},d=c.hash(d)?d:{};for(var e in d)d.hasOwnProperty(e)&&(c.hash(d[e])?(a[e]=c.hash(a[e])?a[e]:{},b.obj.merge(a[e],d[e])):c.array(d[e])?a[e]=d[e].slice():a[e]=d[e]);return a},b.obj.mergeValid=function(d,e,f,g){if(!c.hash(f)||!c.hash(e))return d;e=c.hash(e)?e:{},g=c.hash(g)?g:{};var h,i,j;for(h in e)e.hasOwnProperty(h)&&c.fn(e[h])&&(i=c.array(g[h])?g[h]:c.string(g[h])?[g[h]]:[h],a.each(i,function(a,g){if(j=b.obj.prop(f,g),!c.undef(j))return e[h](j)?(b.obj.prop(d,h,j),!1):void 0}));return d},b.obj.prop=function(b,d,f){if(c.object(b)&&!c.empty(d)){var g,h;if(c.undef(f))return e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){if(a===h)f=b[d];else{if(!c.hash(b[d]))return!1;b=b[d]}})):c.undef(b[d])||(f=b[d]),f;e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){a===h?b[d]=f:b=c.hash(b[d])?b[d]:b[d]={}})):c.undef(b[d])||(b[d]=f)}}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.str),function(a,b,c){if("0.1.9"===b.version){b.ready=function(a){function c(){try{a.call(window,b.$)}catch(a){console.error(a)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?c():document.addEventListener("DOMContentLoaded",c,!1)};var d=0;b.uniqueId=function(a,b){var e=a.attr("id");return c.empty(e)&&(b=c.string(b)&&!c.empty(b)?b:"uid-",e=b+ ++d,a.attr("id",e).data("__uniqueId__",!0)),e},b.removeUniqueId=function(a){a.data("__uniqueId__")&&a.removeAttr("id").removeData("__uniqueId__")},b.selectify=function(a){if(c.empty(a))return null;if(c.hash(a)){var d,e={};for(var f in a)a.hasOwnProperty(f)&&(d=b.selectify(a[f]))&&(e[f]=d);return e}return c.string(a)||c.array(a)?(c.string(a)&&(a=[a]),a.map(function(a){return c.string(a)?"."+a.split(/\s/g).join("."):null}).join(",")):null},b.src=function(a,b,d,e,f,g,h){if(!c.string(a))return null;if(!c.string(b))return a;var i=b.replace(/(\s[\d.]+[whx]),/g,"$1 @,@ ").split(" @,@ "),j=i.map(function(a){return{url:/^\s*(\S*)/.exec(a)[1],w:parseFloat((/\S\s+(\d+)w/.exec(a)||[0,1/0])[1]),h:parseFloat((/\S\s+(\d+)h/.exec(a)||[0,1/0])[1]),x:parseFloat((/\S\s+([\d.]+)x/.exec(a)||[0,1])[1])}});if(!j.length)return a;j.unshift({url:a,w:j[0].w!==1/0&&j[0].h===1/0?d:1/0,h:j[0].h!==1/0&&j[0].w===1/0?e:1/0,x:1});var k=c.number(h)?h:window.devicePixelRatio||1,l={w:f*k,h:g*k,x:k},m=["w","h","x"];return m.forEach(function(a){var b=Math.max.apply(null,j.map(function(b){return b[a]}));j=j.filter(function(c){return c[a]>=l[a]||c[a]===b})}),m.forEach(function(a){var b=Math.min.apply(null,j.map(function(b){return b[a]}));j=j.filter(function(c){return c[a]===b})}),j[0].url},b.scrollParent=function(b,d,e){b=c.jq(b)?b:a(b),d=c.string(d)&&/^(x|y|xy|yx)$/i.test(d)?d:"xy";var f=a(!!b.length&&b[0].ownerDocument||document);if(e=c.jq(e)?e:f,!b.length)return e;var g=b.css("position"),h="absolute"===g,i=/(auto|scroll)/i,j=/x/i,k=/y/i,l=b.parentsUntil(e).filter(function(b,c){var e=a(this);if(h&&"static"===e.css("position"))return!1;var f=k.test(d)&&c.scrollHeight>c.clientHeight&&i.test(e.css("overflow-y")),g=j.test(d)&&c.scrollWidth>c.clientWidth&&i.test(e.css("overflow-x"));return f||g}).eq(0);return l.is("html")&&(l=f),"fixed"!==g&&l.length?l:e}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(a,b,c){function d(a){return setTimeout(a,1)}function e(a){clearTimeout(a)}if("0.1.9"===b.version){b.animation={},b.animation.requestFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||d).bind(window),b.animation.cancelFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||e).bind(window);var f=document.createElement("div");b.animation.supported=function(a){var b=a.style;return c.string(b.animation)||c.string(b.WebkitAnimation)||c.string(b.MozAnimation)||c.string(b.msAnimation)||c.string(b.OAnimation)}(f),b.animation.end=function(a){var b=a.style;return c.string(b.animation)?"animationend":c.string(b.WebkitAnimation)?"webkitAnimationEnd":c.string(b.MozAnimation)?"animationend":c.string(b.msAnimation)?"msAnimationEnd":c.string(b.OAnimation)?"oAnimationEnd":null}(f),b.animation.duration=function(a,b){if(b=c.number(b)?b:0,!c.jq(a))return b;var d=a.css("animation-duration");if(/^([\d.]*)+?(ms|s)$/i.test(d)){var e=d.match(/^([\d.]*)+?(ms|s)$/i),f=parseFloat(e[1]);return"s"===e[2].toLowerCase()&&(f*=1e3),f}return b},b.animation.iterations=function(a,b){if(b=c.number(b)?b:1,!c.jq(a))return b;var d=a.css("animation-iteration-count");return/^(\d+|infinite)$/i.test(d)?"infinite"===d?1/0:parseInt(d):b},b.animation.start=function(d,e,f,g){var h=a.Deferred(),i=h.promise();if(d=d.first(),b.animation.supported){d.prop("offsetTop");var j=d.data("animation_safety");if(c.hash(j)&&c.number(j.timer)&&(clearTimeout(j.timer),d.removeData("animation_safety").off(b.animation.end+".utils"),j.deferred.reject()),!c.number(g)){var k=b.animation.iterations(d);if(k===1/0)return h.reject("No timeout supplied with an infinite animation."),i;g=b.animation.duration(d)*k+50}j={deferred:h,timer:setTimeout(function(){d.removeData("animation_safety").off(b.animation.end+".utils"),h.resolve()},g)},d.data("animation_safety",j),d.on(b.animation.end+".utils",function(a){d.is(a.target)&&(clearTimeout(j.timer),d.removeData("animation_safety").off(b.animation.end+".utils"),h.resolve())})}return b.animation.requestFrame(function(){c.fn(e)?e.apply(d.get(0),[d]):d.toggleClass(e,f),b.animation.supported||h.resolve()}),i}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(a,b,c,d){if("0.1.9"===b.version){b.transition={};var e=document.createElement("div");b.transition.supported=function(a){var b=a.style;return c.string(b.transition)||c.string(b.WebkitTransition)||c.string(b.MozTransition)||c.string(b.msTransition)||c.string(b.OTransition)}(e),b.transition.end=function(a){var b=a.style;return c.string(b.transition)?"transitionend":c.string(b.WebkitTransition)?"webkitTransitionEnd":c.string(b.MozTransition)?"transitionend":c.string(b.msTransition)?"msTransitionEnd":c.string(b.OTransition)?"oTransitionEnd":null}(e),b.transition.duration=function(a,b){if(b=c.number(b)?b:0,!c.jq(a))return b;var d=a.css("transition-duration");if(/^([\d.]*)+?(ms|s)$/i.test(d)){var e=d.match(/^([\d.]*)+?(ms|s)$/i),f=parseFloat(e[1]);return"s"===e[2].toLowerCase()&&(f*=1e3),f}return b},b.transition.start=function(e,f,g,h){var i=a.Deferred(),j=i.promise();if(e=e.first(),b.transition.supported){e.prop("offsetTop");var k=e.data("transition_safety");c.hash(k)&&c.number(k.timer)&&(clearTimeout(k.timer),e.removeData("transition_safety").off(b.transition.end+".utils"),k.deferred.reject()),h=c.number(h)?h:b.transition.duration(e)+50,k={deferred:i,timer:setTimeout(function(){e.removeData("transition_safety").off(b.transition.end+".utils"),i.resolve()},h)},e.data("transition_safety",k),e.on(b.transition.end+".utils",function(a){e.is(a.target)&&(clearTimeout(k.timer),e.removeData("transition_safety").off(b.transition.end+".utils"),i.resolve())})}return d.requestFrame(function(){c.fn(f)?f.apply(e.get(0),[e]):e.toggleClass(f,g),b.transition.supported||i.resolve()}),j}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.animation),function(a,b,c,d,e){"0.1.9"===b.version&&(b.Class=function(){},b.Class.extend=function(a){function f(){if(!c.fn(this.construct))throw new SyntaxError('FooFields.utils.Class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)}a=c.hash(a)?a:{};var g=d.create(this.prototype);for(var h in a)a.hasOwnProperty(h)&&e.addOrOverride(g,h,a[h]);return g.construct=c.fn(g.construct)?g.construct:function(){},f.prototype=g,f.prototype.constructor=c.fn(g.__ctor__)?g.__ctor__:f,f.extend=b.Class.extend,f.override=b.Class.override,f.bases=b.Class.bases,f.__base__=this,f},b.Class.override=function(a,b){e.addOrOverride(this.prototype,a,b)},b.Class.__base__=null,b.Class.bases=function(){function a(b,d){return c.array(d)||(d=[]),c.fn(b)&&null!==b.__base__?(d.unshift(b.__base__),a(b.__base__,d)):d}return a(this,[])})}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.obj,FooFields.utils.fn),function(a,b,c){"0.1.9"===a.version&&(a.Event=a.Class.extend({construct:function(a){if(b.empty(a))throw new SyntaxError("FooFields.utils.Event objects must be supplied a `type`.");var d=c.contains(a,".");this.type=d?c.until(a,"."):a,this.namespace=d?c.from(a,"."):null,this.defaultPrevented=!1,this.target=null},preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented}}),a.EventClass=a.Class.extend({construct:function(){this.__handlers={}},destroy:function(){this.__handlers={}},on:function(a,c,d){var e=this;return b.object(a)?(d=b.undef(c)?this:c,Object.keys(a).forEach(function(b){b.split(" ").forEach(function(c){e.__on(c,a[b],d)})})):b.string(a)&&b.fn(c)&&(d=b.undef(d)?this:d,a.split(" ").forEach(function(a){e.__on(a,c,d)})),e},__on:function(a,d,e){var f=this,g=c.contains(a,"."),h=g?c.until(a,"."):a,i=g?c.from(a,"."):null;b.array(f.__handlers[h])||(f.__handlers[h]=[]),f.__handlers[h].some(function(a){return a.namespace===i&&a.fn===d&&a.thisArg===e})||f.__handlers[h].push({namespace:i,fn:d,thisArg:e})},off:function(a,c,d){var e=this;return b.object(a)?(d=b.undef(c)?this:c,Object.keys(a).forEach(function(c){c.split(" ").forEach(function(f){e.__off(f,b.fn(a[c])?a[c]:null,d)})})):b.string(a)&&(c=b.fn(c)?c:null,d=b.undef(d)?this:d,a.split(" ").forEach(function(a){e.__off(a,c,d)})),e},__off:function(a,d,e){var f=this,g=c.until(a,".")||null,h=c.from(a,".")||null,i=[];b.empty(g)?b.empty(h)||i.push.apply(i,Object.keys(f.__handlers)):i.push(g),i.forEach(function(a){b.array(f.__handlers[a])&&(f.__handlers[a]=f.__handlers[a].filter(function(a){return null!=d?!(a.namespace===h&&a.fn===d&&a.thisArg===e):null!=h&&a.namespace!==h}),0===f.__handlers[a].length&&delete f.__handlers[a])})},trigger:function(c,d){d=b.array(d)?d:[];var e=this,f=[];return c instanceof a.Event?(f.push(c),e.__trigger(c,d)):b.string(c)&&c.split(" ").forEach(function(b){var c=f.push(new a.Event(b))-1;e.__trigger(f[c],d)}),b.empty(f)?null:1===f.length?f[0]:f},__trigger:function(a,c){var d=this;a.target=d,b.array(d.__handlers[a.type])&&d.__handlers[a.type].forEach(function(b){null!=a.namespace&&b.namespace!==a.namespace||b.fn.apply(b.thisArg,[a].concat(c))})}}))}(FooFields.utils,FooFields.utils.is,FooFields.utils.str),function(a,b,c){if("0.1.9"===b.version){b.Bounds=b.Class.extend({construct:function(){var a=this;a.top=0,a.right=0,a.bottom=0,a.left=0,a.width=0,a.height=0},inflate:function(a){var b=this;return c.number(a)&&(b.top-=a,b.right+=a,b.bottom+=a,b.left-=a,b.width+=2*a,b.height+=2*a),b},intersects:function(a){var b=this;return b.left<=a.right&&a.left<=b.right&&b.top<=a.bottom&&a.top<=b.bottom}});var d;b.getViewportBounds=function(c){d||(d=a(window));var e=new b.Bounds;return e.top=d.scrollTop(),e.left=d.scrollLeft(),e.width=d.width(),e.height=d.height(),e.right=e.left+e.width,e.bottom=e.top+e.height,e.inflate(c),e},b.getElementBounds=function(d){c.jq(d)||(d=a(d));var e=new b.Bounds;if(0!==d.length){var f=d.offset();e.top=f.top,e.left=f.left,e.width=d.width(),e.height=d.height()}return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(a,b,c,d,e){"0.1.9"===b.version&&(b.Timer=b.EventClass.extend({construct:function(a){this._super(),this.interval=c.number(a)?a:1e3,this.isRunning=!1,this.isPaused=!1,this.canResume=!1,this.canRestart=!1,this.__timeout=null,this.__decrement=!1,this.__time=0,this.__remaining=0,this.__current=0,this.__finish=0,this.__restart=[]},__reset:function(){clearTimeout(this.__timeout),this.__timeout=null,this.__decrement=!1,this.__time=0,this.__remaining=0,this.__current=0,this.__finish=0,this.isRunning=!1,this.isPaused=!1,this.canResume=!1},__eventArgs:function(a){return[this.__current,this.__time,this.__decrement].concat(d.arg2arr(arguments))},__tick:function(){var a=this;a.trigger("tick",a.__eventArgs()),a.__current===a.__finish?(a.trigger("complete",a.__eventArgs()),a.__reset()):(a.__decrement?a.__current--:a.__current++,a.__remaining--,a.canResume=a.__remaining>0,a.__timeout=setTimeout(function(){a.__tick()},a.interval))},start:function(a,b){var d=this;d.isRunning||(b=!!c.boolean(b)&&b,d.__restart=[a,b],d.__decrement=b,d.__time=a,d.__remaining=a,d.__current=b?a:0,d.__finish=b?0:a,d.canRestart=!0,d.isRunning=!0,d.isPaused=!1,d.trigger("start",d.__eventArgs()),d.__tick())},countdown:function(a){this.start(a,!0)},countup:function(a){this.start(a,!1)},restart:function(){this.stop(),this.canRestart&&this.start.apply(this,this.__restart)},stop:function(){(this.isRunning||this.isPaused)&&(this.__reset(),this.trigger("stop",this.__eventArgs()))},pause:function(){var a=this;return null!=a.__timeout&&(clearTimeout(a.__timeout),a.__timeout=null),a.isRunning&&(a.isRunning=!1,a.isPaused=!0,a.trigger("pause",a.__eventArgs())),a.__remaining},resume:function(){var a=this;a.canResume&&(a.isRunning=!0,a.isPaused=!1,a.trigger("resume",a.__eventArgs()),a.__tick())},reset:function(){this.__reset(),this.trigger("reset",this.__eventArgs())}}))}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.obj),function(a,b,c,d){"0.1.9"===b.version&&(b.Factory=b.Class.extend({construct:function(){this.registered={}},contains:function(a){return!c.undef(this.registered[a])},load:function(b,e,f){var g,h,i=this,j=d.arg2arr(arguments),k=[],l=[];b=j.shift()||{};for(g in i.registered)if(i.registered.hasOwnProperty(g)){var m=i.registered[g];b.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&(m={name:g,klass:h,priority:i.registered[g].priority})),k.push(m)}for(g in b)b.hasOwnProperty(g)&&!i.registered.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&k.push({name:g,klass:h,priority:0}));return k.sort(function(a,b){return b.priority-a.priority}),a.each(k,function(a,b){c.fn(b.klass)&&l.push(d.apply(b.klass,j))}),l},make:function(a,b,e){var f,g=this,h=d.arg2arr(arguments);return a=h.shift(),f=g.registered[a],c.hash(f)&&c.fn(f.klass)?d.apply(f.klass,h):null},names:function(b){b=!!c.boolean(b)&&b;var d,e=[];if(b){var f=[];for(d in this.registered)this.registered.hasOwnProperty(d)&&f.push(this.registered[d]);f.sort(function(a,b){return b.priority-a.priority}),a.each(f,function(a,b){e.push(b.name)})}else for(d in this.registered)this.registered.hasOwnProperty(d)&&e.push(d);return e},register:function(a,b,d){if(!c.string(a)||c.empty(a)||!c.fn(b))return!1;d=c.number(d)?d:0;var e=this.registered[a];return this.registered[a]={name:a,klass:b,priority:c.undef(e)?d:e.priority},!0}}))}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.fn),function(a,b,c){if("0.1.9"===a.version){var d=!1;try{d=!!window.localStorage}catch(a){d=!1}a.Debugger=a.Class.extend({construct:function(a){this.key=a,this.enabled=!!d&&!!localStorage.getItem(this.key)},enable:function(){d&&(this.enabled=!0,localStorage.setItem(this.key,this.enabled))},disable:function(){d&&(this.enabled=!1,localStorage.removeItem(this.key))},log:function(a,c){this.enabled&&console.log.apply(console,b.arg2arr(arguments))},logf:function(a,d,e){if(this.enabled){var f=b.arg2arr(arguments);a=f.shift(),d=f.shift(),f.unshift(c.format(a,d)),this.log.apply(this,f)}}})}}(FooFields.utils,FooFields.utils.fn,FooFields.utils.str),function(a,b,c){"0.1.9"===b.version&&(b.FullscreenAPI=b.EventClass.extend({construct:function(){this._super(),this.apis={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},this.api=this.getAPI(),this.supported=null!=this.api,this.__listen()},destroy:function(){return this.__stopListening(),this._super()},getAPI:function(){for(var a in this.apis)if(this.apis.hasOwnProperty(a)&&this.apis[a].enabled in document)return this.apis[a];return null},element:function(){return this.supported?document[this.api.element]:null},request:function(b){if(this.supported&&b[this.api.request]){var d=b[this.api.request]();return d||a.Deferred(this.__resolver(this.api.request)).promise()}return c.rejected},exit:function(){if(this.supported&&this.element()){var b=document[this.api.exit]();return b||a.Deferred(this.__resolver(this.api.exit)).promise()}return c.rejected},toggle:function(a){return this.element()?this.exit():this.request(a)},__listen:function(){var b=this;b.supported&&a(document).on(b.api.events.change+".utils",function(){b.trigger("change")}).on(b.api.events.error+".utils",function(){b.trigger("error")})},__stopListening:function(){var b=this;b.supported&&a(document).off(b.api.events.change+".utils").off(b.api.events.error+".utils")},__resolver:function(b){var c=this;return function(d){function e(){d.resolve(),a(document).off(c.api.events.change,e).off(c.api.events.error,f)}function f(){d.reject(new TypeError),a(document).off(c.api.events.change,e).off(c.api.events.error,f)}if(b===c.api.exit&&c.element())return void setTimeout(function(){d.reject(new TypeError)},1);a(document).on(c.api.events.change,e).on(c.api.events.error,f)}}}),b.fullscreen=new b.FullscreenAPI)}(FooFields.utils.$,FooFields.utils,FooFields.utils.fn),function(a,b,c,d,e,f){c.find=function(a,b,c){if(d.array(a)&&d.fn(b))for(var e=0,f=a.length;e<f;e++)if(b.call(c,a[e],e,a))return a[e]},c.strip=function(a,b,c){return d.string(a)&&(d.string(b)&&!d.empty(b)&&e.startsWith(a,b)&&(a=e.from(a,b)),d.string(c)&&!d.empty(c)&&e.endsWith(a,c)&&(a=e.until(a,c))),a},c.expose=function(a,b,c){d.object(a)&&d.object(b)&&d.array(c)&&c.forEach(function(c){d.string(c)&&d.fn(a[c])&&(b[c]=a[c].bind(a))})}}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.str,FooFields.utils.obj),function(a,b,c,d,e){b.Instance=c.EventClass.extend({construct:function(){var a=this;a._super(),a.opt=e.extend({},b.config.opt),a.cls=e.extend({},b.config.cls),a.i18n=e.extend({},b.config.i18n),a.sel=c.selectify(a.cls),a.$doc=null,a.mqlSmall=null,a.small=!1,a.mqlHoverable=null,a.hoverable=!1,a.containers=[],a.onMqlSmallChanged=a.onMqlSmallChanged.bind(a),a.onMqlHoverableChanged=a.onMqlHoverableChanged.bind(a)},init:function(f){var g=this;d.hash(f)&&(e.extend(g.opt,f.opt),e.extend(g.i18n,f.i18n),d.hash(f.cls)&&(e.extend(g.cls,f.cls),g.sel=c.selectify(g.cls))),d.empty(g.opt.on)||g.on(g.opt.on,g),g.$doc=a(document),g.mqlSmall=window.matchMedia("(max-width: "+g.opt.small+"px)"),g.mqlHoverable=window.matchMedia("(hover: hover)"),g.small=g.mqlSmall.matches,g.hoverable=g.mqlHoverable.matches,g.containers=a(g.sel.container.el).map(function(a,c){return new b.Container(g,c)}).get(),g.trigger("init",[g]),g.containers.forEach(function(a){a.init()}),g.mqlSmall.addListener(g.onMqlSmallChanged),g.mqlHoverable.addListener(g.onMqlHoverableChanged),g.trigger("ready",[g])},destroy:function(){var a=this;a.trigger("destroy",[a]),a.mqlSmall.removeListener(a.onMqlSmallChanged),a.mqlHoverable.removeListener(a.onMqlHoverableChanged),a.containers.forEach(function(a){a.destroy()}),d.empty(a.opt.on)||a.off(a.opt.on,a),a._super()},field:function(a){for(var c,d=this,e=0,f=d.containers.length;e<f;e++)if((c=d.containers[e].field(a))instanceof b.Field)return c},content:function(a){for(var c,d=this,e=0,f=d.containers.length;e<f;e++)if((c=d.containers[e].content(a))instanceof b.Content)return c},container:function(a){var b=this;if(d.string(a))return a=c.strip(a,"#"),c.find(b.containers,function(b){return b.id===a})},onMqlSmallChanged:function(a){var b=this;b.trigger("small-changed",[b,b.small=a.matches])},onMqlHoverableChanged:function(a){var b=this;b.trigger("hoverable-changed",[b,b.hoverable=a.matches])}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(a,b,c,d){b.Component=c.EventClass.extend({construct:function(b,c,e,f){var g=this;g._super(),g.instance=b,g.$el=d.jq(c)?c:a(c),g.cls=e,g.sel=f},init:function(){},destroy:function(){this._super()}}),b.CtnrComponent=b.Component.extend({construct:function(a,b,c,d,e){var f=this;f._super(a,c,d,e),f.ctnr=b}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(a,b,c,d,e){b.Container=b.Component.extend({construct:function(a,c){var d=this;d._super(a,c,a.cls.container,a.sel.container),d.contents=d.$el.children(d.sel.content.el).map(function(a,c){return new b.Content(d,c)}).get(),d.tabs=d.$el.children(d.sel.tabs.el).children(d.sel.tabs.tab.el).map(function(a,c){return new b.Tab(d,c,a)}).get()},init:function(){var a=this,c=null;a.$el.toggleClass(a.cls.tabs.exists,a.tabs.length>0),a.setSmall(a.instance.small),a.setHoverable(a.instance.hoverable),a.contents.forEach(function(a){a.init(),null===c&&a.active&&(c=a)}),a.tabs.forEach(function(a){a.init()}),null===c&&a.contents.length>0&&(c=a.contents[0]),c instanceof b.Content&&a.activate(c.id),a.instance.on({"small-changed":a.onSmallChanged,"hoverable-changed":a.onHoverableChanged},a)},destroy:function(){var a=this;a.instance.off({"small-changed":a.onSmallChanged,"hoverable-changed":a.onHoverableChanged},a),a.$el.removeClass(a.cls.tabs.exists),a.tabs.forEach(function(a){a.destroy()}),a.contents.forEach(function(a){a.destroy()})},activate:function(a){var b=this;b.tabs.forEach(function(b){b.activate(a)}),b.contents.forEach(function(b){b.activate(a)})},field:function(a){for(var c,d=this,e=0,f=d.contents.length;e<f;e++)if((c=d.contents[e].field(a))instanceof b.Field)return c},content:function(a){var b=this;if(d.string(a))return a=c.strip(a,"#"),c.find(b.contents,function(b){return b.id===a})},setSmall:function(a){var b=this;b.$el.toggleClass(b.instance.cls.small,!!a)},setHoverable:function(a){var b=this;b.$el.toggleClass(b.instance.cls.hoverable,!!a)},
onSmallChanged:function(a,b,c){this.setSmall(c)},onHoverableChanged:function(a,b,c){this.setHoverable(c)}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(a,b,c,d){b.Content=b.CtnrComponent.extend({construct:function(a,c){var d=this;d._super(a.instance,a,c,a.cls.content,a.sel.content),d.id=d.$el.attr("id"),d.active=d.$el.hasClass(d.instance.cls.active),d.fields=d.$el.children(d.sel.field).map(function(a,c){return b.fields.create(d,c)}).get()},init:function(){var a=this;a.$el.toggleClass(a.instance.cls.active,a.active),a.fields.forEach(function(a){a.init()})},destroy:function(){this.fields.forEach(function(a){a.destroy()})},activate:function(a){var b=this;b.$el.toggleClass(b.instance.cls.active,b.active=b.id===a)},field:function(a){return c.find(this.fields,function(b){return b.id===a})}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(a,b,c,d,e){b.Fields=c.Factory.extend({construct:function(){this.registered={}},register:function(a,b,c,e,f,g,h){var i=this;if(!d.string(c))return!1;if(i._super(a,b,h)){var j=i.registered[a];return j.selector=c,j.options=d.hash(e)?e:{},j.classes=d.hash(f)?f:{},j.i18n=d.hash(g)?g:{},!0}return!1},make:function(a,b,c,f){var g=this,h=g.registered[a],i={},j={};if(d.hash(h)){var k=b.ctnr.instance,l=g.bases(a),m=[{}],n=[{}],o=[{}];return l.push(g.registered[a]),l.push({options:k.opt.fields[a],classes:k.cls.fields[a],i18n:k.i18n.fields[a]}),l.forEach(function(a){m.push(a.options),n.push(a.classes),o.push(a.i18n)}),m.push(f),n.push(j),o.push(i),f=e.extend.apply(e,m),j=e.extend.apply(e,n),i=e.extend.apply(e,o),g._super(a,b,c,f,j,i)}return null},create:function(b,c,f){var g,h=this;c=d.jq(c)?c:a(c),f=e.extend({},f,c.data());for(g in h.registered)if(h.registered.hasOwnProperty(g)&&"field"!==g&&c.is(h.registered[g].selector))return h.make(g,b,c,f);return h.make("field",b,c,f)},bases:function(a){if(!this.contains(a))return[];var b=this,c=b.registered[a],d=c.klass.bases(),e=[];return d.forEach(function(a){var c=b.find(a);null!==c&&e.push(c)}),e},find:function(a){var b,c=this.registered;for(b in c)if(c.hasOwnProperty(b)&&c[b].klass===a)return c[b];return null}}),b.fields=new b.Fields}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(a,b,c,d){b.Field=b.CtnrComponent.extend({construct:function(a,b,d,e,f){var g=this;g._super(a.instance,a.ctnr,b,e,c.selectify(e)),g.content=a,g.opt=d,g.i18n=f,g.id=g.$el.attr("id"),g.$label=g.$el.children(g.sel.label),g.$input=g.$el.children(g.sel.input),g.$change=g.$el.find(g.opt.changeSelector),g.$value=g.$el.find(g.opt.valueSelector),g.visible=!g.opt.hidden,g._showWhenField=null},init:function(){var a=this;a.setup(),a.$change.on("change.foofields",{self:a},a.onValueChanged),a.setupVisibilityRules(),a.trigger("init",[a])},setup:function(){},setupVisibilityRules:function(){var a=this;if(a.toggle(a.visible),null!==a.opt.showWhenField){var c=a.instance.field(a.opt.showWhenField);c instanceof b.Field&&(a._showWhenField=c,a._showWhenField.on("change",a.onShowWhenFieldChanged,a))}},destroy:function(){var a=this;a.trigger("destroy",[a]),a.$change.off("change.foofields",a.onValueChanged),a.teardownVisibilityRules(),a.teardown()},teardown:function(){},teardownVisibilityRules:function(){var a=this;a._showWhenField instanceof b.Field&&a._showWhenField.off("change",a.onShowWhenFieldChanged,a)},toggle:function(a){var b=this;b.visible=d.boolean(a)?a:!b.visible,b.$el.toggleClass(b.instance.cls.hidden,!b.visible).find(":input").attr("disabled",!b.visible)},val:function(){var a=this;return null!==a.opt.valueAttribute?a.$value.attr(a.opt.valueAttribute):a.$value.val()},onValueChanged:function(a){var b=a.data.self;b.trigger("change",[b.val(),b])},onShowWhenFieldChanged:function(a,b){var c,d=this,e=d.opt.showWhenValue;switch(d.opt.showWhenOperator){case"!==":c=b!==e;break;case"regex":c=new RegExp(e).test(b);break;case"indexOf":c=-1!==b.indexOf(e);break;default:c=b===e}d.toggle(c)}}),b.fields.register("field",b.Field,".foofields-field",{hidden:!1,showWhenField:null,showWhenValue:null,showWhenOperator:null,changeSelector:":input",valueSelector:":input",valueAttribute:null},{el:"foofields-field",label:"foofields-label",input:"foofields-field-input"},{})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(a,b,c,d,e){b.Tab=b.CtnrComponent.extend({construct:function(a,d,e){var f=this;f._super(a.instance,a,d,a.cls.tabs.tab,a.sel.tabs.tab),f.index=e,f.$link=f.$el.children(f.sel.link).first(),f.$icon=f.$link.children(f.sel.icon).first(),f.$text=f.$link.children(f.sel.text).first(),f.target=c.strip(f.$link.attr("href"),"#"),f.active=f.$el.hasClass(f.instance.cls.active),f.menu=new b.TabMenu(f,f.$el.children(f.sel.menu.el))},init:function(){var a=this;a.$el.toggleClass(a.instance.cls.first,0===a.index).toggleClass(a.instance.cls.last,a.index===a.ctnr.tabs.length-1),a.$link.on("click.foofields",{self:a},a.onLinkClick),a.menu.init()},destroy:function(){var a=this;a.$el.removeClass(a.instance.cls.first).removeClass(a.instance.cls.last),a.$link.off(".foofields"),a.menu.destroy()},handles:function(a){var b=this;return b.target===a||b.menu.handles(a)},activate:function(a){var b=this;b.$el.toggleClass(b.instance.cls.active,b.active=b.handles(a)),b.menu.exists&&b.menu.activate(a)},onLinkClick:function(a){a.preventDefault(),a.stopPropagation();var b=a.data.self;b.menu.exists&&b.instance.small&&!b.instance.hoverable?b.menu.toggle():b.ctnr.activate(b.target)}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(a,b,c,d){b.TabMenu=b.CtnrComponent.extend({construct:function(c,d){var e=this;e._super(c.instance,c.ctnr,d,c.cls.menu,c.sel.menu),e.tab=c,e.$header=a("<li/>",{class:e.cls.header}).append(c.$text.clone()),e.items=e.$el.children(e.sel.item.el).map(function(a,c){return new b.TabMenuItem(e,c,a)}).get(),e.exists=e.items.length>0,e.visible=c.$el.hasClass(e.cls.visible),e._enter=null,e._leave=null,e.onDocumentClick=e.onDocumentClick.bind(e),e.onTabMouseEnter=e.onTabMouseEnter.bind(e),e.onTabMouseLeave=e.onTabMouseLeave.bind(e)},init:function(){var a=this;a.exists&&(a.tab.$el.addClass(a.cls.exists),a.items.forEach(function(a){a.init()}),a.setSmall(a.instance.small),a.setHoverable(a.instance.hoverable),a.instance.on({"small-changed":a.onSmallChanged,"hoverable-changed":a.onHoverableChanged},a))},destroy:function(){var a=this;a.exists&&(a.instance.off({"small-changed":a.onSmallChanged,"hoverable-changed":a.onHoverableChanged},a),a.toggle(!1),a.setSmall(!1),a.setHoverable(!1),a.tab.$el.removeClass(a.cls.exists),a.items.forEach(function(a){a.destroy()}))},toggle:function(a){var b=this;b.exists&&(b.visible=d.undef(a)?!b.visible:!!a,b.tab.$el.toggleClass(b.cls.visible,b.visible),b.ctnr.$el.children(b.ctnr.cls.tabs.el).toggleClass(b.cls.visible,b.visible),b.visible?b.instance.$doc.on("click.foofields",b.onDocumentClick):b.instance.$doc.off("click.foofields",b.onDocumentClick))},item:function(a){if(this.exists)return c.find(this.items,function(b){return b.target===a})},handles:function(a){return this.item(a)instanceof b.TabMenuItem},activate:function(a){var b=this;b.exists&&b.items.forEach(function(b){b.activate(a)})},setSmall:function(a){var b=this;a?b.$el.prepend(b.$header):b.$header.remove()},setHoverable:function(a){var b=this;a?b.tab.$el.on({"mouseenter.foofields":b.onTabMouseEnter,"mouseleave.foofields":b.onTabMouseLeave}):(b.tab.$el.off({"mouseenter.foofields":b.onTabMouseEnter,"mouseleave.foofields":b.onTabMouseLeave}),clearTimeout(b._enter),clearTimeout(b._leave),b._enter=null,b._leave=null)},onSmallChanged:function(a,b,c){this.setSmall(c)},onHoverableChanged:function(a,b,c){this.setHoverable(c)},onDocumentClick:function(){this.toggle(!1)},onTabMouseEnter:function(){var a=this;clearTimeout(a._leave),a._leave=null,null===a._enter&&(a._enter=setTimeout(function(){a.toggle(!0),a._enter=null},300))},onTabMouseLeave:function(){var a=this;clearTimeout(a._enter),a._enter=null,null===a._leave&&(a._leave=setTimeout(function(){a.toggle(!1),a._leave=null},300))}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(a,b,c,d){b.TabMenuItem=b.CtnrComponent.extend({construct:function(a,b,d){var e=this;e._super(a.instance,a.ctnr,b,a.cls.item,a.sel.item),e.menu=a,e.index=d,e.active=e.$el.hasClass(e.instance.cls.active),e.$link=e.$el.children(e.sel.link).first(),e.$text=e.$link.children(e.sel.text).first(),e.target=c.strip(e.$link.attr("href"),"#")},init:function(){var a=this;a.$el.toggleClass(a.instance.cls.first,0===a.index).toggleClass(a.instance.cls.last,a.index===a.menu.items.length-1),a.$link.on("click.foofields",{self:a},a.onLinkClick)},destroy:function(){var a=this;a.$el.removeClass(a.instance.cls.first).removeClass(a.instance.cls.last),a.$link.off(".foofields")},activate:function(a){var b=this;b.$el.toggleClass(b.instance.cls.active,b.active=b.target===a)},onLinkClick:function(a){a.preventDefault(),a.stopPropagation();var b=a.data.self;b.ctnr.activate(b.target)}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(a,b,c,d,e){b.__instance__=new b.Instance,c.expose(b.__instance__,b,["on","off","trigger","init","destroy","field"]),c.ready(function(){b.__instance__.init(window.FOOFIELDS)})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj);