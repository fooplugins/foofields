"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){t.config={opt:{small:960,on:{},fields:{}},cls:{small:"foofields-small",hoverable:"foofields-hoverable",active:"foofields-active",first:"foofields-first",last:"foofields-last",hidden:"foofields-hidden",container:{el:"foofields-container",content:{el:"foofields-content",field:"foofields-field"},tabs:{el:"foofields-tabs",exists:"foofields-has-tabs",tab:{el:"foofields-tab",link:"foofields-tab-link",icon:"foofields-tab-icon",text:"foofields-tab-text",menu:{el:"foofields-tab-menu",exists:"foofields-has-menu",visible:"foofields-show-menu",header:"foofields-tab-menu-header",item:{el:"foofields-tab-menu-item",link:"foofields-tab-menu-link",text:"foofields-tab-menu-text"}}}}},fields:{}},i18n:{fields:{}}},t.$=e}(jQuery,window.FooFields=window.FooFields||{}),function(e){if(e){var t={$:e,version:"0.1.9",versionCompare:function(e,t){if(!/[\d.]/.test(e)||!/[\d.]/.test(t))return NaN;function n(e){for(var t=e.split("."),n=[],i=0,s=t.length;i<s;i++)n[i]=parseInt(t[i]),isNaN(n[i])&&(n[i]=0);return n}for(var i=n(e),s=n(t);i.length<s.length;)i.push(0);for(;s.length<i.length;)s.push(0);for(var r=0;r<i.length;++r){if(s.length===r)return 1;if(i[r]!==s[r])return i[r]>s[r]?1:-1}return i.length!==s.length?-1:0}};!function(){try{return!!window.FooFields.utils}catch(e){return!1}}()?window.FooFields.utils=t:0<t.versionCompare(t.version,window.FooFields.utils.version)?(console.warn("An older version of FooFields.utils ("+window.FooFields.utils.version+") already exists in the page, version "+t.version+" will override it."),window.FooFields.utils=t):console.warn("A newer version of FooFields.utils ("+window.FooFields.utils.version+") already exists in the page, version "+t.version+" will not register itself.")}else console.warn("jQuery must be included in the page prior to the FooFields.utils library.")}(jQuery),function(t,n){"0.1.9"===n.version&&(n.is={},n.is.array=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.is.boolean=function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},n.is.element=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:!!e&&"object"===_typeof(e)&&1===e.nodeType&&"string"==typeof e.nodeName},n.is.empty=function(e){if(n.is.undef(e)||null===e)return!0;if(n.is.number(e)&&0===e)return!0;if(n.is.boolean(e)&&!1===e)return!0;if(n.is.string(e)&&0===e.length)return!0;if(n.is.array(e)&&0===e.length)return!0;if(n.is.jq(e)&&0===e.length)return!0;if(n.is.hash(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1},n.is.error=function(e){return"[object Error]"===Object.prototype.toString.call(e)},n.is.fn=function(e){return e===window.alert||"[object Function]"===Object.prototype.toString.call(e)},n.is.hash=function(e){return n.is.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},n.is.jq=function(e){return!n.is.undef(t)&&e instanceof t},n.is.number=function(e){return"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)},n.is.object=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!n.is.undef(e)&&null!==e},n.is.promise=function(e){return n.is.object(e)&&n.is.fn(e.then)&&n.is.fn(e.promise)},n.is.size=function(e){return!!(n.is.string(e)&&!n.is.empty(e)||n.is.number(e))&&/^(auto|none|(?:[\d.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(e)},n.is.string=function(e){return"[object String]"===Object.prototype.toString.call(e)},n.is.undef=function(e){return void 0===e})}(FooFields.utils.$,FooFields.utils),function(f,h,d){if("0.1.9"===h.version){h.fn={};var l=Function.prototype.toString;h.fn.CONTAINS_SUPER=/xyz/.test(l.call(function(){xyz}))?/\b_super\b/:/.*/,h.fn.addOrOverride=function(e,t,n){if(d.object(e)&&d.string(t)&&!d.empty(t)&&d.fn(n)){var i,s,r=e[t],o=d.fn(r)&&h.fn.CONTAINS_SUPER.test(l.call(n));e[t]=o?(i=r,s=n,function(){var e=this._super;this._super=i;var t=s.apply(this,arguments);return this._super=e,t}):n}},h.fn.apply=function(e,t){function n(){return e.apply(this,t)}return t=d.array(t)?t:[],n.prototype=e.prototype,new n},h.fn.arg2arr=function(e){return Array.prototype.slice.call(e)},h.fn.debounce=function(n,i){var s;return function(){var e=this,t=h.fn.arg2arr(arguments);clearTimeout(s),s=setTimeout(function(){n.apply(e,t)},i)}},h.fn.throttle=function(n,i){var s,r;return function(){var e=this,t=h.fn.arg2arr(arguments);s?(clearTimeout(r),r=setTimeout(function(){Date.now()-s>=i&&(n.apply(e,t),s=Date.now())},i-(Date.now()-s))):(n.apply(e,t),s=Date.now())}},h.fn.check=function(t,e,n,i){function s(e){return function(){return e.apply(t,arguments)}}return n=d.fn(n)?n:f.noop,t=d.object(t)?t:window,e=d.string(e)?h.fn.fetch(e,i):e,d.fn(e)?s(e):s(n)},h.fn.fetch=function(e,n){return!d.string(e)||d.empty(e)?null:(n=d.object(n)?n:window,f.each(e.split("."),function(e,t){if(!n[t])return!1;n=n[t]}),d.fn(n)?n:null)},h.fn.enqueue=function(e,n,t,i){var s=h.fn.arg2arr(arguments),r=f.Deferred(),o=f.Deferred(),l=o.promise(),a=[],u=[],c=!0;return e=s.shift(),n=s.shift(),f.each(e,function(e,t){d.fn(t[n])&&(l=l.then(function(){if(!c){var e=h.fn.arg2arr(arguments);a.push(e)}return c=!1,function(e,t){try{return u.push(e),t.apply(e,s)}catch(e){return r.reject(e,u),r}}(t,t[n])}))}),l.then(function(){if(!c){var e=h.fn.arg2arr(arguments);a.push(e)}c=!1,r.resolve(a)}),l.fail(function(){var e=h.fn.arg2arr(arguments);e.push(u),r.reject.apply(r,e)}),o.resolve(),r.promise()},h.fn.when=function(e){if(!d.array(e)||d.empty(e))return f.when();for(var t=f.Deferred(),n=[],i=e.length,s=0;s<e.length;s++)e[s].then(function(e){n.push(e)}).always(function(){--i||t.resolve(n)});return t.promise()},h.fn.rejectWith=function(e,t){var n=f.Deferred(),i=h.fn.arg2arr(arguments);return n.reject.apply(n,i).promise()},h.fn.resolveWith=function(e,t){var n=f.Deferred(),i=h.fn.arg2arr(arguments);return n.resolve.apply(n,i).promise()},h.fn.resolved=f.Deferred().resolve().promise(),h.fn.rejected=f.Deferred().reject().promise()}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(e,o){if("0.1.9"===e.version){e.url={};var r=document.createElement("a");e.url.parts=function(e){r.href=e;var t=r.port?r.port:-1!==["http:","https:"].indexOf(r.protocol)?"https:"===r.protocol?"443":"80":"",n=r.hostname+(t?":"+t:""),i=r.origin?r.origin:r.protocol+"//"+n,s="/"===r.pathname.slice(0,1)?r.pathname:"/"+r.pathname;return{hash:r.hash,host:n,hostname:r.hostname,href:r.href,origin:i,pathname:s,port:t,protocol:r.protocol,search:r.search}},e.url.full=function(e){return!o.string(e)||o.empty(e)?null:(r.href=e,r.href)},e.url.param=function(e,t,n){return o.string(e)&&o.string(t)&&!o.empty(t)?o.undef(n)?(s=((i=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)")).exec(e)||["",""])[1].replace(/\+/g,"%20"),o.string(s)&&!o.empty(s)?decodeURIComponent(s):null):(o.empty(n)?(i=new RegExp("^([^#]*?)(([^#]*)&)?"+t+"(=[^&#]*)?(&|#|$)"),s=e.replace(i,"$1$3$5").replace(/^([^#]*)((\?)&|\?(#|$))/,"$1$3$4")):(i=new RegExp("([?&])"+t+"[^&]*"),r=t+"="+encodeURIComponent(n),(s=e.replace(i,"$1"+r))!==e||i.test(s)||(s+=(-1!==s.indexOf("?")?"&":"?")+r)),s):e;var i,s,r}}}(FooFields.utils,FooFields.utils.is),function(l,a,u){"0.1.9"===l.version&&(l.str={},l.str.camel=function(e){return a.empty(e)?e:e.toUpperCase()===e?e.toLowerCase():e.replace(/^([A-Z])|[-\s_]+(\w)/g,function(e,t,n){return a.string(n)?n.toUpperCase():t.toLowerCase()})},l.str.kebab=function(e){return a.empty(e)?e:e.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map(function(e){return e.toLowerCase()}).join("-")},l.str.contains=function(e,t,n){return!(!a.string(e)||a.empty(e)||!a.string(t)||a.empty(t))&&(t.length<=e.length&&-1!==(n?e.toUpperCase().indexOf(t.toUpperCase()):e.indexOf(t)))},l.str.containsWord=function(e,t,n){if(!a.string(e)||a.empty(e)||!a.string(t)||a.empty(t)||e.length<t.length)return!1;for(var i=e.split(/\W/),s=0,r=i.length;s<r;s++)if(n?i[s].toUpperCase()===t.toUpperCase():i[s]===t)return!0;return!1},l.str.endsWith=function(e,t){return!a.string(e)||a.empty(e)||!a.string(t)||a.empty(t)?e===t:e.slice(e.length-t.length)===t},l.str.escapeRegExp=function(e){return a.empty(e)?e:e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},l.str.fnv1a=function(e){if(!a.string(e)||a.empty(e))return null;var t,n,i=2166136261;for(t=0,n=e.length;t<n;t++)i^=e.charCodeAt(t),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return i>>>0},l.str.from=function(e,t){return!a.string(e)||a.empty(e)||!a.string(t)||a.empty(t)?null:l.str.contains(e,t)?e.substring(e.indexOf(t)+t.length):null},l.str.join=function(e,t,n){if(!a.string(e)||!a.string(t))return null;var i=u.arg2arr(arguments);e=i.shift();var s,r,o=i.shift();for(s=0,r=i.length;s<r;s++)t=i[s],a.empty(t)||(l.str.endsWith(o,e)&&(o=o.slice(0,o.length-e.length)),l.str.startsWith(t,e)&&(t=t.slice(e.length)),o+=e+t);return o},l.str.startsWith=function(e,t){return!a.empty(e)&&!a.empty(t)&&e.slice(0,t.length)===t},l.str.until=function(e,t){return a.empty(e)||a.empty(t)?e:l.str.contains(e,t)?e.substring(0,e.indexOf(t)):e},l.str.format=function(e,t,n){var i=u.arg2arr(arguments);if(e=i.shift(),a.empty(e)||a.empty(i))return e;for(var s in 1===i.length&&(a.array(i[0])||a.object(i[0]))&&(i=i[0]),i)e=e.replace(new RegExp("\\{"+s+"\\}","gi"),i[s]);return e})}(FooFields.utils,FooFields.utils.is,FooFields.utils.fn),function(l,a,u,s,r){if("0.1.9"===a.version){a.obj={};var n=function(){};a.obj.create=function(e){if(!u.object(e))throw TypeError("Argument must be an object");n.prototype=e;var t=new n;return n.prototype=null,t},a.obj.extend=function(n,e,t){n=u.object(n)?n:{};var i=s.arg2arr(arguments);return i.shift(),l.each(i,function(e,t){a.obj.merge(n,t)}),n},a.obj.merge=function(e,t){for(var n in e=u.hash(e)?e:{},t=u.hash(t)?t:{})t.hasOwnProperty(n)&&(u.hash(t[n])?(e[n]=u.hash(e[n])?e[n]:{},a.obj.merge(e[n],t[n])):u.array(t[n])?e[n]=t[n].slice():e[n]=t[n]);return e},a.obj.mergeValid=function(n,i,s,e){if(!u.hash(s)||!u.hash(i))return n;var r,t,o;for(r in i=u.hash(i)?i:{},e=u.hash(e)?e:{},i)i.hasOwnProperty(r)&&u.fn(i[r])&&(t=u.array(e[r])?e[r]:u.string(e[r])?[e[r]]:[r],l.each(t,function(e,t){if(o=a.obj.prop(s,t),!u.undef(o))return i[r](o)?(a.obj.prop(n,r,o),!1):void 0}));return n},a.obj.prop=function(n,e,i){var t,s;if(u.object(n)&&!u.empty(e))return u.undef(i)?(r.contains(e,".")?(t=e.split("."),s=t.length-1,l.each(t,function(e,t){if(e===s)i=n[t];else{if(!u.hash(n[t]))return!1;n=n[t]}})):u.undef(n[e])||(i=n[e]),i):void(r.contains(e,".")?(t=e.split("."),s=t.length-1,l.each(t,function(e,t){e===s?n[t]=i:n=u.hash(n[t])?n[t]:n[t]={}})):u.undef(n[e])||(n[e]=i))}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.str),function(c,s,f){if("0.1.9"===s.version){s.ready=function(e){function t(){try{e.call(window,s.$)}catch(e){console.error(e)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t,!1)};var i=0;s.uniqueId=function(e,t){var n=e.attr("id");return f.empty(n)&&(n=(t=f.string(t)&&!f.empty(t)?t:"uid-")+ ++i,e.attr("id",n).data("__uniqueId__",!0)),n},s.removeUniqueId=function(e){e.data("__uniqueId__")&&e.removeAttr("id").removeData("__uniqueId__")},s.selectify=function(e){if(f.empty(e))return null;if(f.hash(e)){var t,n={};for(var i in e)e.hasOwnProperty(i)&&(t=s.selectify(e[i]))&&(n[i]=t);return n}return f.string(e)||f.array(e)?(f.string(e)&&(e=[e]),e.map(function(e){return f.string(e)?"."+e.split(/\s/g).join("."):null}).join(",")):null},s.src=function(e,t,n,i,s,r,o){if(!f.string(e))return null;if(!f.string(t))return e;var l=t.replace(/(\s[\d.]+[whx]),/g,"$1 @,@ ").split(" @,@ ").map(function(e){return{url:/^\s*(\S*)/.exec(e)[1],w:parseFloat((/\S\s+(\d+)w/.exec(e)||[0,1/0])[1]),h:parseFloat((/\S\s+(\d+)h/.exec(e)||[0,1/0])[1]),x:parseFloat((/\S\s+([\d.]+)x/.exec(e)||[0,1])[1])}});if(!l.length)return e;l.unshift({url:e,w:l[0].w!==1/0&&l[0].h===1/0?n:1/0,h:l[0].h!==1/0&&l[0].w===1/0?i:1/0,x:1});var a=f.number(o)?o:window.devicePixelRatio||1,u={w:s*a,h:r*a,x:a},c=["w","h","x"];return c.forEach(function(t){var n=Math.max.apply(null,l.map(function(e){return e[t]}));l=l.filter(function(e){return e[t]>=u[t]||e[t]===n})}),c.forEach(function(t){var n=Math.min.apply(null,l.map(function(e){return e[t]}));l=l.filter(function(e){return e[t]===n})}),l[0].url},s.scrollParent=function(e,r,t){e=f.jq(e)?e:c(e),r=f.string(r)&&/^(x|y|xy|yx)$/i.test(r)?r:"xy";var n=c(!!e.length&&e[0].ownerDocument||document);if(t=f.jq(t)?t:n,!e.length)return t;var i=e.css("position"),o="absolute"===i,l=/(auto|scroll)/i,a=/x/i,u=/y/i,s=e.parentsUntil(t).filter(function(e,t){var n=c(this);if(o&&"static"===n.css("position"))return!1;var i=u.test(r)&&t.scrollHeight>t.clientHeight&&l.test(n.css("overflow-y")),s=a.test(r)&&t.scrollWidth>t.clientWidth&&l.test(n.css("overflow-x"));return i||s}).eq(0);return s.is("html")&&(s=n),"fixed"!==i&&s.length?s:t}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(a,u,c){if("0.1.9"===u.version){u.animation={},u.animation.requestFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1)}).bind(window),u.animation.cancelFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window);var e,t,n=document.createElement("div");u.animation.supported=(e=n.style,c.string(e.animation)||c.string(e.WebkitAnimation)||c.string(e.MozAnimation)||c.string(e.msAnimation)||c.string(e.OAnimation)),u.animation.end=(t=n.style,c.string(t.animation)?"animationend":c.string(t.WebkitAnimation)?"webkitAnimationEnd":c.string(t.MozAnimation)?"animationend":c.string(t.msAnimation)?"msAnimationEnd":c.string(t.OAnimation)?"oAnimationEnd":null),u.animation.duration=function(e,t){if(t=c.number(t)?t:0,!c.jq(e))return t;var n=e.css("animation-duration");if(/^([\d.]*)+?(ms|s)$/i.test(n)){var i=n.match(/^([\d.]*)+?(ms|s)$/i),s=parseFloat(i[1]);return"s"===i[2].toLowerCase()&&(s*=1e3),s}return t},u.animation.iterations=function(e,t){if(t=c.number(t)?t:1,!c.jq(e))return t;var n=e.css("animation-iteration-count");return/^(\d+|infinite)$/i.test(n)?"infinite"===n?1/0:parseInt(n):t},u.animation.start=function(t,e,n,i){var s=a.Deferred(),r=s.promise();if(t=t.first(),u.animation.supported){t.prop("offsetTop");var o=t.data("animation_safety");if(c.hash(o)&&c.number(o.timer)&&(clearTimeout(o.timer),t.removeData("animation_safety").off(u.animation.end+".utils"),o.deferred.reject()),!c.number(i)){var l=u.animation.iterations(t);if(l===1/0)return s.reject("No timeout supplied with an infinite animation."),r;i=u.animation.duration(t)*l+50}o={deferred:s,timer:setTimeout(function(){t.removeData("animation_safety").off(u.animation.end+".utils"),s.resolve()},i)},t.data("animation_safety",o),t.on(u.animation.end+".utils",function(e){t.is(e.target)&&(clearTimeout(o.timer),t.removeData("animation_safety").off(u.animation.end+".utils"),s.resolve())})}return u.animation.requestFrame(function(){c.fn(e)?e.apply(t.get(0),[t]):t.toggleClass(e,n),u.animation.supported||s.resolve()}),r}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(l,a,u,c){if("0.1.9"===a.version){a.transition={};var e,t,n=document.createElement("div");a.transition.supported=(e=n.style,u.string(e.transition)||u.string(e.WebkitTransition)||u.string(e.MozTransition)||u.string(e.msTransition)||u.string(e.OTransition)),a.transition.end=(t=n.style,u.string(t.transition)?"transitionend":u.string(t.WebkitTransition)?"webkitTransitionEnd":u.string(t.MozTransition)?"transitionend":u.string(t.msTransition)?"msTransitionEnd":u.string(t.OTransition)?"oTransitionEnd":null),a.transition.duration=function(e,t){if(t=u.number(t)?t:0,!u.jq(e))return t;var n=e.css("transition-duration");if(/^([\d.]*)+?(ms|s)$/i.test(n)){var i=n.match(/^([\d.]*)+?(ms|s)$/i),s=parseFloat(i[1]);return"s"===i[2].toLowerCase()&&(s*=1e3),s}return t},a.transition.start=function(t,e,n,i){var s=l.Deferred(),r=s.promise();if(t=t.first(),a.transition.supported){t.prop("offsetTop");var o=t.data("transition_safety");u.hash(o)&&u.number(o.timer)&&(clearTimeout(o.timer),t.removeData("transition_safety").off(a.transition.end+".utils"),o.deferred.reject()),i=u.number(i)?i:a.transition.duration(t)+50,o={deferred:s,timer:setTimeout(function(){t.removeData("transition_safety").off(a.transition.end+".utils"),s.resolve()},i)},t.data("transition_safety",o),t.on(a.transition.end+".utils",function(e){t.is(e.target)&&(clearTimeout(o.timer),t.removeData("transition_safety").off(a.transition.end+".utils"),s.resolve())})}return c.requestFrame(function(){u.fn(e)?e.apply(t.get(0),[t]):t.toggleClass(e,n),a.transition.supported||s.resolve()}),r}}}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.animation),function(e,s,r,o,l){"0.1.9"===s.version&&(s.Class=function(){},s.Class.extend=function(e){e=r.hash(e)?e:{};var t=o.create(this.prototype);for(var n in e)e.hasOwnProperty(n)&&l.addOrOverride(t,n,e[n]);function i(){if(!r.fn(this.construct))throw new SyntaxError('FooFields.utils.Class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)}return t.construct=r.fn(t.construct)?t.construct:function(){},(i.prototype=t).constructor=r.fn(t.__ctor__)?t.__ctor__:i,i.extend=s.Class.extend,i.override=s.Class.override,i.bases=s.Class.bases,i.__base__=this,i},s.Class.override=function(e,t){l.addOrOverride(this.prototype,e,t)},s.Class.__base__=null,s.Class.bases=function(){return function e(t,n){return r.array(n)||(n=[]),r.fn(t)&&null!==t.__base__?(n.unshift(t.__base__),e(t.__base__,n)):n}(this,[])})}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.obj,FooFields.utils.fn),function(r,l,a){"0.1.9"===r.version&&(r.Event=r.Class.extend({construct:function(e){if(l.empty(e))throw new SyntaxError("FooFields.utils.Event objects must be supplied a `type`.");var t=a.contains(e,".");this.type=t?a.until(e,"."):e,this.namespace=t?a.from(e,"."):null,this.defaultPrevented=!1,this.target=null},preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented}}),r.EventClass=r.Class.extend({construct:function(){this.__handlers={}},destroy:function(){this.__handlers={}},on:function(n,t,i){var s=this;return l.object(n)?(i=l.undef(t)?this:t,Object.keys(n).forEach(function(t){t.split(" ").forEach(function(e){s.__on(e,n[t],i)})})):l.string(n)&&l.fn(t)&&(i=l.undef(i)?this:i,n.split(" ").forEach(function(e){s.__on(e,t,i)})),s},__on:function(e,t,n){var i=a.contains(e,"."),s=i?a.until(e,"."):e,r=i?a.from(e,"."):null;l.array(this.__handlers[s])||(this.__handlers[s]=[]),this.__handlers[s].some(function(e){return e.namespace===r&&e.fn===t&&e.thisArg===n})||this.__handlers[s].push({namespace:r,fn:t,thisArg:n})},off:function(n,t,i){var s=this;return l.object(n)?(i=l.undef(t)?this:t,Object.keys(n).forEach(function(t){t.split(" ").forEach(function(e){s.__off(e,l.fn(n[t])?n[t]:null,i)})})):l.string(n)&&(t=l.fn(t)?t:null,i=l.undef(i)?this:i,n.split(" ").forEach(function(e){s.__off(e,t,i)})),s},__off:function(e,t,n){var i=this,s=a.until(e,".")||null,r=a.from(e,".")||null,o=[];l.empty(s)?l.empty(r)||o.push.apply(o,Object.keys(i.__handlers)):o.push(s),o.forEach(function(e){l.array(i.__handlers[e])&&(i.__handlers[e]=i.__handlers[e].filter(function(e){return null!=t?!(e.namespace===r&&e.fn===t&&e.thisArg===n):null!=r&&e.namespace!==r}),0===i.__handlers[e].length&&delete i.__handlers[e])})},trigger:function(e,n){n=l.array(n)?n:[];var i=this,s=[];return e instanceof r.Event?(s.push(e),i.__trigger(e,n)):l.string(e)&&e.split(" ").forEach(function(e){var t=s.push(new r.Event(e))-1;i.__trigger(s[t],n)}),l.empty(s)?null:1===s.length?s[0]:s},__trigger:function(t,n){t.target=this,l.array(this.__handlers[t.type])&&this.__handlers[t.type].forEach(function(e){null!=t.namespace&&e.namespace!==t.namespace||e.fn.apply(e.thisArg,[t].concat(n))})}}))}(FooFields.utils,FooFields.utils.is,FooFields.utils.str),function(i,s,r){var n;"0.1.9"===s.version&&(s.Bounds=s.Class.extend({construct:function(){var e=this;e.top=0,e.right=0,e.bottom=0,e.left=0,e.width=0,e.height=0},inflate:function(e){var t=this;return r.number(e)&&(t.top-=e,t.right+=e,t.bottom+=e,t.left-=e,t.width+=2*e,t.height+=2*e),t},intersects:function(e){return this.left<=e.right&&e.left<=this.right&&this.top<=e.bottom&&e.top<=this.bottom}}),s.getViewportBounds=function(e){n||(n=i(window));var t=new s.Bounds;return t.top=n.scrollTop(),t.left=n.scrollLeft(),t.width=n.width(),t.height=n.height(),t.right=t.left+t.width,t.bottom=t.top+t.height,t.inflate(e),t},s.getElementBounds=function(e){r.jq(e)||(e=i(e));var t=new s.Bounds;if(0!==e.length){var n=e.offset();t.top=n.top,t.left=n.left,t.width=e.width(),t.height=e.height()}return t.right=t.left+t.width,t.bottom=t.top+t.height,t})}(FooFields.utils.$,FooFields.utils,FooFields.utils.is),function(e,t,i,n,s){"0.1.9"===t.version&&(t.Timer=t.EventClass.extend({construct:function(e){this._super(),this.interval=i.number(e)?e:1e3,this.isRunning=!1,this.isPaused=!1,this.canResume=!1,this.canRestart=!1,this.__timeout=null,this.__decrement=!1,this.__time=0,this.__remaining=0,this.__current=0,this.__finish=0,this.__restart=[]},__reset:function(){clearTimeout(this.__timeout),this.__timeout=null,this.__decrement=!1,this.__time=0,this.__remaining=0,this.__current=0,this.__finish=0,this.isRunning=!1,this.isPaused=!1,this.canResume=!1},__eventArgs:function(e){return[this.__current,this.__time,this.__decrement].concat(n.arg2arr(arguments))},__tick:function(){var e=this;e.trigger("tick",e.__eventArgs()),e.__current===e.__finish?(e.trigger("complete",e.__eventArgs()),e.__reset()):(e.__decrement?e.__current--:e.__current++,e.__remaining--,e.canResume=0<e.__remaining,e.__timeout=setTimeout(function(){e.__tick()},e.interval))},start:function(e,t){var n=this;n.isRunning||(t=!!i.boolean(t)&&t,n.__restart=[e,t],n.__decrement=t,n.__time=e,n.__remaining=e,n.__current=t?e:0,n.__finish=t?0:e,n.canRestart=!0,n.isRunning=!0,n.isPaused=!1,n.trigger("start",n.__eventArgs()),n.__tick())},countdown:function(e){this.start(e,!0)},countup:function(e){this.start(e,!1)},restart:function(){this.stop(),this.canRestart&&this.start.apply(this,this.__restart)},stop:function(){(this.isRunning||this.isPaused)&&(this.__reset(),this.trigger("stop",this.__eventArgs()))},pause:function(){var e=this;return null!=e.__timeout&&(clearTimeout(e.__timeout),e.__timeout=null),e.isRunning&&(e.isRunning=!1,e.isPaused=!0,e.trigger("pause",e.__eventArgs())),e.__remaining},resume:function(){var e=this;e.canResume&&(e.isRunning=!0,e.isPaused=!1,e.trigger("resume",e.__eventArgs()),e.__tick())},reset:function(){this.__reset(),this.trigger("reset",this.__eventArgs())}}))}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.obj),function(c,e,f,h){"0.1.9"===e.version&&(e.Factory=e.Class.extend({construct:function(){this.registered={}},contains:function(e){return!f.undef(this.registered[e])},load:function(e,t,n){var i,s,r=this,o=h.arg2arr(arguments),l=[],a=[];for(i in e=o.shift()||{},r.registered)if(r.registered.hasOwnProperty(i)){var u=r.registered[i];e.hasOwnProperty(i)&&(s=e[i],f.string(s)&&(s=h.fetch(e[i])),f.fn(s)&&(u={name:i,klass:s,priority:r.registered[i].priority})),l.push(u)}for(i in e)e.hasOwnProperty(i)&&!r.registered.hasOwnProperty(i)&&(s=e[i],f.string(s)&&(s=h.fetch(e[i])),f.fn(s)&&l.push({name:i,klass:s,priority:0}));return l.sort(function(e,t){return t.priority-e.priority}),c.each(l,function(e,t){f.fn(t.klass)&&a.push(h.apply(t.klass,o))}),a},make:function(e,t,n){var i,s=h.arg2arr(arguments);return e=s.shift(),i=this.registered[e],f.hash(i)&&f.fn(i.klass)?h.apply(i.klass,s):null},names:function(e){e=!!f.boolean(e)&&e;var t,n=[];if(e){var i=[];for(t in this.registered)this.registered.hasOwnProperty(t)&&i.push(this.registered[t]);i.sort(function(e,t){return t.priority-e.priority}),c.each(i,function(e,t){n.push(t.name)})}else for(t in this.registered)this.registered.hasOwnProperty(t)&&n.push(t);return n},register:function(e,t,n){if(!f.string(e)||f.empty(e)||!f.fn(t))return!1;n=f.number(n)?n:0;var i=this.registered[e];return this.registered[e]={name:e,klass:t,priority:f.undef(i)?n:i.priority},!0}}))}(FooFields.utils.$,FooFields.utils,FooFields.utils.is,FooFields.utils.fn),function(e,s,r){if("0.1.9"===e.version){var t=!1;try{t=!!window.localStorage}catch(e){t=!1}e.Debugger=e.Class.extend({construct:function(e){this.key=e,this.enabled=!!t&&!!localStorage.getItem(this.key)},enable:function(){t&&(this.enabled=!0,localStorage.setItem(this.key,this.enabled))},disable:function(){t&&(this.enabled=!1,localStorage.removeItem(this.key))},log:function(e,t){this.enabled&&console.log.apply(console,s.arg2arr(arguments))},logf:function(e,t,n){if(this.enabled){var i=s.arg2arr(arguments);e=i.shift(),t=i.shift(),i.unshift(r.format(e,t)),this.log.apply(this,i)}}})}}(FooFields.utils,FooFields.utils.fn,FooFields.utils.str),function(r,e,n){"0.1.9"===e.version&&(e.FullscreenAPI=e.EventClass.extend({construct:function(){this._super(),this.apis={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},this.api=this.getAPI(),this.supported=null!=this.api,this.__listen()},destroy:function(){return this.__stopListening(),this._super()},getAPI:function(){for(var e in this.apis)if(this.apis.hasOwnProperty(e)&&this.apis[e].enabled in document)return this.apis[e];return null},element:function(){return this.supported?document[this.api.element]:null},request:function(e){if(this.supported&&e[this.api.request]){var t=e[this.api.request]();return t||r.Deferred(this.__resolver(this.api.request)).promise()}return n.rejected},exit:function(){if(this.supported&&this.element()){var e=document[this.api.exit]();return e||r.Deferred(this.__resolver(this.api.exit)).promise()}return n.rejected},toggle:function(e){return this.element()?this.exit():this.request(e)},__listen:function(){var e=this;e.supported&&r(document).on(e.api.events.change+".utils",function(){e.trigger("change")}).on(e.api.events.error+".utils",function(){e.trigger("error")})},__stopListening:function(){this.supported&&r(document).off(this.api.events.change+".utils").off(this.api.events.error+".utils")},__resolver:function(i){var s=this;return function(e){function t(){e.resolve(),r(document).off(s.api.events.change,t).off(s.api.events.error,n)}function n(){e.reject(new TypeError),r(document).off(s.api.events.change,t).off(s.api.events.error,n)}i===s.api.exit&&s.element()?setTimeout(function(){e.reject(new TypeError)},1):r(document).on(s.api.events.change,t).on(s.api.events.error,n)}}}),e.fullscreen=new e.FullscreenAPI)}(FooFields.utils.$,FooFields.utils,FooFields.utils.fn),function(e,t,n,r,i,s){n.find=function(e,t,n){if(r.array(e)&&r.fn(t))for(var i=0,s=e.length;i<s;i++)if(t.call(n,e[i],i,e))return e[i]},n.strip=function(e,t,n){return r.string(e)&&(r.string(t)&&!r.empty(t)&&i.startsWith(e,t)&&(e=i.from(e,t)),r.string(n)&&!r.empty(n)&&i.endsWith(e,n)&&(e=i.until(e,n))),e},n.expose=function(t,n,e){r.object(t)&&r.object(n)&&r.array(e)&&e.forEach(function(e){r.string(e)&&r.fn(t[e])&&(n[e]=t[e].bind(t))})}}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.str,FooFields.utils.obj),function(t,s,i,r,o){s.Instance=i.EventClass.extend({construct:function(){var e=this;e._super(),e.opt=o.extend({},s.config.opt),e.cls=o.extend({},s.config.cls),e.i18n=o.extend({},s.config.i18n),e.sel=i.selectify(e.cls),e.$doc=null,e.mqlSmall=null,e.small=!1,e.mqlHoverable=null,e.hoverable=!1,e.containers=[],e.onMqlSmallChanged=e.onMqlSmallChanged.bind(e),e.onMqlHoverableChanged=e.onMqlHoverableChanged.bind(e)},init:function(e){var n=this;r.hash(e)&&(o.extend(n.opt,e.opt),o.extend(n.i18n,e.i18n),r.hash(e.cls)&&(o.extend(n.cls,e.cls),n.sel=i.selectify(n.cls))),r.empty(n.opt.on)||n.on(n.opt.on,n),n.$doc=t(document),n.mqlSmall=window.matchMedia("(max-width: "+n.opt.small+"px)"),n.mqlHoverable=window.matchMedia("(hover: hover)"),n.small=n.mqlSmall.matches,n.hoverable=n.mqlHoverable.matches,n.containers=t(n.sel.container.el).map(function(e,t){return new s.Container(n,t)}).get(),n.trigger("init",[n]),n.containers.forEach(function(e){e.init()}),n.mqlSmall.addListener(n.onMqlSmallChanged),n.mqlHoverable.addListener(n.onMqlHoverableChanged),n.trigger("ready",[n])},destroy:function(){var e=this;e.trigger("destroy",[e]),e.mqlSmall.removeListener(e.onMqlSmallChanged),e.mqlHoverable.removeListener(e.onMqlHoverableChanged),e.containers.forEach(function(e){e.destroy()}),r.empty(e.opt.on)||e.off(e.opt.on,e),e._super()},field:function(e){for(var t,n=0,i=this.containers.length;n<i;n++)if(t=this.containers[n].field(e),t instanceof s.Field)return t},content:function(e){for(var t,n=0,i=this.containers.length;n<i;n++)if(t=this.containers[n].content(e),t instanceof s.Content)return t},container:function(t){if(r.string(t))return t=i.strip(t,"#"),i.find(this.containers,function(e){return e.id===t})},onMqlSmallChanged:function(e){this.trigger("small-changed",[this,this.small=e.matches])},onMqlHoverableChanged:function(e){this.trigger("hoverable-changed",[this,this.hoverable=e.matches])}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(r,e,t,o){e.Component=t.EventClass.extend({construct:function(e,t,n,i){var s=this;s._super(),s.instance=e,s.$el=o.jq(t)?t:r(t),s.cls=n,s.sel=i},init:function(){},destroy:function(){this._super()}}),e.CtnrComponent=e.Component.extend({construct:function(e,t,n,i,s){this._super(e,n,i,s),this.ctnr=t}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(e,s,n,i,t){s.Container=s.Component.extend({construct:function(e,t){var n=this;n._super(e,t,e.cls.container,e.sel.container),n.id=n.$el.attr("id"),n.contents=n.$el.children(n.sel.content.el).map(function(e,t){return new s.Content(n,t)}).get(),n.tabs=n.$el.children(n.sel.tabs.el).children(n.sel.tabs.tab.el).map(function(e,t){return new s.Tab(n,t,e)}).get()},init:function(){var e=this,t=null;e.$el.toggleClass(e.cls.tabs.exists,0<e.tabs.length),e.setSmall(e.instance.small),e.setHoverable(e.instance.hoverable),e.contents.forEach(function(e){e.init(),null===t&&e.active&&(t=e)}),e.tabs.forEach(function(e){e.init()}),null===t&&0<e.contents.length&&(t=e.contents[0]),t instanceof s.Content&&e.activate(t.id),e.instance.on({"small-changed":e.onSmallChanged,"hoverable-changed":e.onHoverableChanged},e)},destroy:function(){var e=this;e.instance.off({"small-changed":e.onSmallChanged,"hoverable-changed":e.onHoverableChanged},e),e.$el.removeClass(e.cls.tabs.exists),e.tabs.forEach(function(e){e.destroy()}),e.contents.forEach(function(e){e.destroy()})},activate:function(t){this.tabs.forEach(function(e){e.activate(t)}),this.contents.forEach(function(e){e.activate(t)})},field:function(e){for(var t,n=0,i=this.contents.length;n<i;n++)if(t=this.contents[n].field(e),t instanceof s.Field)return t},content:function(t){if(i.string(t))return t=n.strip(t,"#"),n.find(this.contents,function(e){return e.id===t})},setSmall:function(e){this.$el.toggleClass(this.instance.cls.small,!!e)},setHoverable:function(e){this.$el.toggleClass(this.instance.cls.hoverable,!!e)},onSmallChanged:function(e,t,n){this.setSmall(n)},onHoverableChanged:function(e,t,n){this.setHoverable(n)}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(e,i,n,t){i.Content=i.CtnrComponent.extend({construct:function(e,t){var n=this;n._super(e.instance,e,t,e.cls.content,e.sel.content),n.id=n.$el.attr("id"),n.active=n.$el.hasClass(n.instance.cls.active),n.fields=n.$el.children(n.sel.field).map(function(e,t){return i.fields.create(n,t)}).get()},init:function(){this.$el.toggleClass(this.instance.cls.active,this.active),this.fields.forEach(function(e){e.init()})},destroy:function(){this.fields.forEach(function(e){e.destroy()})},activate:function(e){this.$el.toggleClass(this.instance.cls.active,this.active=this.id===e)},field:function(t){return n.find(this.fields,function(e){return e.id===t})}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(r,e,t,h,d){e.Fields=t.Factory.extend({construct:function(){this.registered={}},register:function(e,t,n,i,s,r,o){if(!h.string(n))return!1;if(this._super(e,t,o)){var l=this.registered[e];return l.selector=n,l.options=h.hash(i)?i:{},l.classes=h.hash(s)?s:{},l.i18n=h.hash(r)?r:{},!0}return!1},make:function(e,t,n,i){var s=this.registered[e],r={},o={};if(h.hash(s)){var l=t.ctnr.instance,a=this.bases(e),u=[{}],c=[{}],f=[{}];return a.push(this.registered[e]),a.push({options:l.opt.fields[e],classes:l.cls.fields[e],i18n:l.i18n.fields[e]}),a.forEach(function(e){u.push(e.options),c.push(e.classes),f.push(e.i18n)}),u.push(i),c.push(o),f.push(r),i=d.extend.apply(d,u),o=d.extend.apply(d,c),r=d.extend.apply(d,f),this._super(e,t,n,i,o,r)}return null},create:function(e,t,n){var i,s=this;for(i in t=h.jq(t)?t:r(t),n=d.extend({},n,t.data()),s.registered)if(s.registered.hasOwnProperty(i)&&"field"!==i&&t.is(s.registered[i].selector))return s.make(i,e,t,n);return s.make("field",e,t,n)},bases:function(e){if(!this.contains(e))return[];var n=this,t=n.registered[e].klass.bases(),i=[];return t.forEach(function(e){var t=n.find(e);null!==t&&i.push(t)}),i},find:function(e){var t,n=this.registered;for(t in n)if(n.hasOwnProperty(t)&&n[t].klass===e)return n[t];return null}}),e.fields=new e.Fields}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(e,n,o,i){n.Field=n.CtnrComponent.extend({construct:function(e,t,n,i,s){var r=this;r._super(e.instance,e.ctnr,t,i,o.selectify(i)),r.content=e,r.opt=n,r.i18n=s,r.id=r.$el.attr("id"),r.$label=r.$el.children(r.sel.label),r.$input=r.$el.children(r.sel.input),r.$change=r.$el.find(r.opt.changeSelector),r.$value=r.$el.find(r.opt.valueSelector),r.visible=!r.opt.hidden,r._showWhenField=null},init:function(){var e=this;e.setup(),e.$change.on("change.foofields",{self:e},e.onValueChanged),e.setupVisibilityRules(),e.trigger("init",[e])},setup:function(){},setupVisibilityRules:function(){var e=this;if(e.toggle(e.visible),null!==e.opt.showWhenField){var t=e.instance.field(e.opt.showWhenField);t instanceof n.Field&&(e._showWhenField=t,e._showWhenField.on("change",e.onShowWhenFieldChanged,e))}},destroy:function(){var e=this;e.trigger("destroy",[e]),e.$change.off("change.foofields",e.onValueChanged),e.teardownVisibilityRules(),e.teardown()},teardown:function(){},teardownVisibilityRules:function(){this._showWhenField instanceof n.Field&&this._showWhenField.off("change",this.onShowWhenFieldChanged,this)},toggle:function(e){var t=this;t.visible=i.boolean(e)?e:!t.visible,t.$el.toggleClass(t.instance.cls.hidden,!t.visible).find(":input").attr("disabled",!t.visible)},val:function(){return null!==this.opt.valueAttribute?this.$value.attr(this.opt.valueAttribute):this.$value.val()},onValueChanged:function(e){var t=e.data.self;t.trigger("change",[t.val(),t])},onShowWhenFieldChanged:function(e,t){var n,i=this.opt.showWhenValue;switch(this.opt.showWhenOperator){case"!==":n=t!==i;break;case"regex":n=new RegExp(i).test(t);break;case"indexOf":n=-1!==t.indexOf(i);break;default:n=t===i}this.toggle(n)}}),n.fields.register("field",n.Field,".foofields-field",{hidden:!1,showWhenField:null,showWhenValue:null,showWhenOperator:null,changeSelector:":input",valueSelector:":input",valueAttribute:null},{el:"foofields-field",label:"foofields-label",input:"foofields-field-input"},{})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(e,s,r,t,n){s.Tab=s.CtnrComponent.extend({construct:function(e,t,n){var i=this;i._super(e.instance,e,t,e.cls.tabs.tab,e.sel.tabs.tab),i.index=n,i.$link=i.$el.children(i.sel.link).first(),i.$icon=i.$link.children(i.sel.icon).first(),i.$text=i.$link.children(i.sel.text).first(),i.target=r.strip(i.$link.attr("href"),"#"),i.active=i.$el.hasClass(i.instance.cls.active),i.menu=new s.TabMenu(i,i.$el.children(i.sel.menu.el))},init:function(){var e=this;e.$el.toggleClass(e.instance.cls.first,0===e.index).toggleClass(e.instance.cls.last,e.index===e.ctnr.tabs.length-1),e.$link.on("click.foofields",{self:e},e.onLinkClick),e.menu.init()},destroy:function(){var e=this;e.$el.removeClass(e.instance.cls.first).removeClass(e.instance.cls.last),e.$link.off(".foofields"),e.menu.destroy()},handles:function(e){return this.target===e||this.menu.handles(e)},activate:function(e){var t=this;t.$el.toggleClass(t.instance.cls.active,t.active=t.handles(e)),t.menu.exists&&t.menu.activate(e)},onLinkClick:function(e){e.preventDefault(),e.stopPropagation();var t=e.data.self;t.menu.exists&&t.instance.small&&!t.instance.hoverable?t.menu.toggle():t.ctnr.activate(t.target)}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(i,s,e,n){s.TabMenu=s.CtnrComponent.extend({construct:function(e,t){var n=this;n._super(e.instance,e.ctnr,t,e.cls.menu,e.sel.menu),n.tab=e,n.$header=i("<li/>",{class:n.cls.header}).append(e.$text.clone()),n.items=n.$el.children(n.sel.item.el).map(function(e,t){return new s.TabMenuItem(n,t,e)}).get(),n.exists=0<n.items.length,n.visible=e.$el.hasClass(n.cls.visible),n._enter=null,n._leave=null,n.onDocumentClick=n.onDocumentClick.bind(n),n.onTabMouseEnter=n.onTabMouseEnter.bind(n),n.onTabMouseLeave=n.onTabMouseLeave.bind(n)},init:function(){var e=this;e.exists&&(e.tab.$el.addClass(e.cls.exists),e.items.forEach(function(e){e.init()}),e.setSmall(e.instance.small),e.setHoverable(e.instance.hoverable),e.instance.on({"small-changed":e.onSmallChanged,"hoverable-changed":e.onHoverableChanged},e))},destroy:function(){var e=this;e.exists&&(e.instance.off({"small-changed":e.onSmallChanged,"hoverable-changed":e.onHoverableChanged},e),e.toggle(!1),e.setSmall(!1),e.setHoverable(!1),e.tab.$el.removeClass(e.cls.exists),e.items.forEach(function(e){e.destroy()}))},toggle:function(e){var t=this;t.exists&&(t.visible=n.undef(e)?!t.visible:!!e,t.tab.$el.toggleClass(t.cls.visible,t.visible),t.ctnr.$el.children(t.ctnr.cls.tabs.el).toggleClass(t.cls.visible,t.visible),t.visible?t.instance.$doc.on("click.foofields",t.onDocumentClick):t.instance.$doc.off("click.foofields",t.onDocumentClick))},item:function(t){if(this.exists)return e.find(this.items,function(e){return e.target===t})},handles:function(e){return this.item(e)instanceof s.TabMenuItem},activate:function(t){this.exists&&this.items.forEach(function(e){e.activate(t)})},setSmall:function(e){e?this.$el.prepend(this.$header):this.$header.remove()},setHoverable:function(e){var t=this;e?t.tab.$el.on({"mouseenter.foofields":t.onTabMouseEnter,"mouseleave.foofields":t.onTabMouseLeave}):(t.tab.$el.off({"mouseenter.foofields":t.onTabMouseEnter,"mouseleave.foofields":t.onTabMouseLeave}),clearTimeout(t._enter),clearTimeout(t._leave),t._enter=null,t._leave=null)},onSmallChanged:function(e,t,n){this.setSmall(n)},onHoverableChanged:function(e,t,n){this.setHoverable(n)},onDocumentClick:function(){this.toggle(!1)},onTabMouseEnter:function(){var e=this;clearTimeout(e._leave),(e._leave=null)===e._enter&&(e._enter=setTimeout(function(){e.toggle(!0),e._enter=null},300))},onTabMouseLeave:function(){var e=this;clearTimeout(e._enter),(e._enter=null)===e._leave&&(e._leave=setTimeout(function(){e.toggle(!1),e._leave=null},300))}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(e,t,s,n){t.TabMenuItem=t.CtnrComponent.extend({construct:function(e,t,n){var i=this;i._super(e.instance,e.ctnr,t,e.cls.item,e.sel.item),i.menu=e,i.index=n,i.active=i.$el.hasClass(i.instance.cls.active),i.$link=i.$el.children(i.sel.link).first(),i.$text=i.$link.children(i.sel.text).first(),i.target=s.strip(i.$link.attr("href"),"#")},init:function(){var e=this;e.$el.toggleClass(e.instance.cls.first,0===e.index).toggleClass(e.instance.cls.last,e.index===e.menu.items.length-1),e.$link.on("click.foofields",{self:e},e.onLinkClick)},destroy:function(){this.$el.removeClass(this.instance.cls.first).removeClass(this.instance.cls.last),this.$link.off(".foofields")},activate:function(e){this.$el.toggleClass(this.instance.cls.active,this.active=this.target===e)},onLinkClick:function(e){e.preventDefault(),e.stopPropagation();var t=e.data.self;t.ctnr.activate(t.target)}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is),function(e,t,n,i,s){t.__instance__=new t.Instance,n.expose(t.__instance__,t,["on","off","trigger","init","destroy","field"]),n.ready(function(){t.__instance__.init(window.FOOFIELDS)})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj);